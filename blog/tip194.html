<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tip 194 - Azure Automation with Windows Machine with PowerShell | Azure Tips and Tricks</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script>
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TDHW3GW');
		</script>
    <link rel="apple-touch-icon" sizes="57x57" href="/AzureTipsAndTricks/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/AzureTipsAndTricks/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/AzureTipsAndTricks/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/AzureTipsAndTricks/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/AzureTipsAndTricks/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/AzureTipsAndTricks/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/AzureTipsAndTricks/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/AzureTipsAndTricks/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/AzureTipsAndTricks/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/AzureTipsAndTricks/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/AzureTipsAndTricks/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/AzureTipsAndTricks/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/AzureTipsAndTricks/favicon-16x16.png">
    <link rel="manifest" href="/AzureTipsAndTricks/manifest.json">
    <script async="true" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <meta name="description" content="">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/AzureTipsAndTricks/assets/css/0.styles.ae50425e.css" as="style"><link rel="preload" href="/AzureTipsAndTricks/assets/js/app.ff93faee.js" as="script"><link rel="preload" href="/AzureTipsAndTricks/assets/js/3.6da58b8f.js" as="script"><link rel="preload" href="/AzureTipsAndTricks/assets/js/2.34d1d534.js" as="script"><link rel="preload" href="/AzureTipsAndTricks/assets/js/106.6c9e1caf.js" as="script"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/10.23caa0a7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/100.46cbc2a7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/101.0d364aed.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/102.a35283b9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/103.bd2cf4c8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/104.3f22e4fd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/105.59931e5f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/107.99a3c4c7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/108.44d11a70.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/109.54efe131.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/11.a171bd9a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/110.d0b30680.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/111.cfe248ce.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/112.8299d227.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/113.08863e62.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/114.0ed687ac.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/115.bf5436f8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/116.afb67ca5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/117.3187aa9a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/118.afe053c1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/119.ff791bde.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/12.1254207d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/120.9c5c5b5a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/121.74affd1a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/122.2dff66dd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/123.efc2165e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/124.d887cd7e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/125.31077759.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/126.d6a10a40.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/127.bcb53db1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/128.9686db89.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/129.fdb3d62b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/13.a35e3759.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/130.e1f5b096.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/131.d32aa0db.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/132.d733185c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/133.675df87d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/134.6bab43df.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/135.8b4e372d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/136.32c983a4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/137.4524c68c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/138.c62169aa.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/139.d49d5b34.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/14.4dc698ec.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/140.a517d828.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/141.c79003f4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/142.dd630b4d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/143.c8c9d5f8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/144.e0b588ad.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/145.b5f1b195.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/146.b109f2f1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/147.3d3f40a4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/148.dca2cb49.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/149.86219b50.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/15.b6f54a04.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/150.6dd0556b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/151.e0cdc475.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/152.1201888f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/153.c831b925.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/154.10d17825.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/155.4a53f5d3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/156.9718ed87.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/157.eda118f5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/158.0c6d550a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/159.5cc3bd74.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/16.9b68d57a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/160.1cf204a1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/161.667f9d9f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/162.2a072ee9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/163.7495cb52.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/164.50560309.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/165.4d96aeea.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/166.dade20fd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/167.580f426e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/168.3bab0523.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/169.0a2e92c2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/17.3df87c1f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/170.20d6ab91.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/171.87c45667.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/172.c7d4fbec.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/173.9d7371bf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/174.bc1faa58.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/175.8cd9e8bc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/176.e8886c2c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/177.f27dbc53.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/178.89a72e73.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/179.e4b4f497.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/18.7e7a5f6a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/180.e8fdfd23.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/181.f4f3c26b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/182.c3d677be.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/183.962aa03e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/184.75f877a2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/185.922945d4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/186.e3561017.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/187.171836e7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/188.f71bf738.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/189.6709be05.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/19.e61359f7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/190.c509c0b2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/191.4108f67f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/192.7bcc6e7f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/193.cffb4b7b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/194.2aa22983.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/195.25193220.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/196.67ebf303.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/197.d253aa00.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/198.945c1a6d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/199.df7f65a2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/20.87a0333f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/200.36d2c925.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/201.4afea1c4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/202.601e1763.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/203.81ae50bb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/204.805d345d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/205.1a207ec3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/206.05756017.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/207.9142052f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/208.aae18717.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/209.57495d44.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/21.43beee35.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/210.c79e97af.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/211.09307a36.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/212.0c641556.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/213.6efe1c22.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/214.79fbf6bd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/215.aff8044a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/216.3c40f8e9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/217.c6be6ee7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/218.443fd35b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/219.dc78e115.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/22.9f52c441.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/220.a0529c21.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/221.c604c158.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/222.c8998e53.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/223.5e3cbd32.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/224.d4e6a39d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/225.71e06e0b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/226.a5f58be3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/227.095a4918.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/228.4e9ab9bf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/229.2d8468f9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/23.ec0cedcd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/230.9c514315.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/231.bdbd9298.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/232.346fee9f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/233.53bfb9f8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/234.8a30c571.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/235.1dc153bb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/236.2130d902.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/237.d0627def.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/238.6312d0e8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/239.e29b4c97.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/24.0da91567.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/240.f7607127.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/241.cc9c3613.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/242.2fed1a33.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/243.e2ae3157.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/244.aa528ba7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/245.341bd30c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/246.7e5952ed.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/247.54cdfa6e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/248.dcea7a4a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/249.7b1324e6.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/25.9338b48f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/250.f2ed8093.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/251.81f27ccc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/252.c149ead5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/253.5ed3799a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/254.b3a8b238.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/255.ab76933f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/256.05fd5d78.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/257.e7fc5bfc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/258.aeb1ea5a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/259.e9ad6d74.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/26.bb6ab43b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/260.693fcb38.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/261.ecd254dd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/262.48aeae0b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/263.b421c790.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/264.7fd707f5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/265.127dde7d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/266.fbbacaf6.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/267.9bb35695.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/268.909dcf47.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/269.346d78b9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/27.c8e9eb97.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/270.5efef333.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/271.232efdb8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/272.0f9d8318.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/273.04c54f10.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/274.b4750c93.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/275.2a0698fd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/276.40587285.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/277.83a51cbf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/278.91877b36.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/279.4bc59949.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/28.7cea1402.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/280.61fedbce.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/281.a0028785.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/282.1f07e968.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/283.afb3bfb9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/284.ecd3a8cc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/285.a8b6ba81.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/286.5bbfb850.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/287.badfc183.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/288.322712a7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/289.de3cae7e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/29.88e1c6c5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/290.2ce79807.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/291.8dd22b49.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/292.41fb4b23.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/293.e80e45d4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/294.95c2a32a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/295.72a67fb0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/296.5d83f22c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/297.bbf55b1d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/298.cbc9609d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/299.acab0a5b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/30.db8d5c47.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/300.d6161c69.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/301.13f1953b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/302.b06496f3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/303.2a49e2fd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/304.5eaff107.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/305.c27ff09c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/306.fc5ffa5d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/307.3ead3364.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/308.2b2676cf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/309.483b9300.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/31.bc18b500.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/310.18c484a3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/311.ec387c62.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/312.61f31fcf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/313.90bfaad2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/314.b324e031.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/315.89ef8b28.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/316.ce98af68.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/317.8ddd843e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/318.39a5c06e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/319.79d3cdb7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/32.9d2fbc24.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/320.7e8040f0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/321.6bab34de.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/322.d24dd107.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/323.c6274b21.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/324.5af3c2bd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/325.18fe8b21.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/326.d0fc2f35.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/327.0b0aea2a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/328.300600e7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/329.d16855d1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/33.dd2c8ac5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/330.d734c969.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/331.8dff31eb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/332.70b332af.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/333.88313176.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/334.0459424c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/335.750fcbaf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/336.1eb504ef.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/337.eb8cb9c9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/338.8254e5d1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/339.64184e38.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/34.f98f9075.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/340.fc8a7697.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/341.729cd1d5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/342.7d0823c5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/343.20277f87.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/344.ab1c61c7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/345.21edba14.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/346.e0e955d9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/35.77ef9dae.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/36.152deb69.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/37.18f7b326.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/38.1a75260c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/39.9fcbbb76.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/4.0177bd13.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/40.430ff740.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/41.d813ea58.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/42.2b831590.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/43.f942a336.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/44.b60a0bef.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/45.97bfe3b0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/46.7c3fc2c5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/47.c37822e7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/48.14ef1cd9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/49.1c50b142.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/5.7a34beae.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/50.aa08c38c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/51.ed2fa11a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/52.79c6a31b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/53.e19b6193.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/54.059addd2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/55.45d72561.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/56.120c8435.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/57.dc2546fd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/58.8cf6c385.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/59.f722c732.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/6.4a43aba6.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/60.c38ea685.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/61.7eeb0a49.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/62.f6ea669e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/63.8933938a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/64.83aa6341.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/65.df0dfd95.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/66.b8a06cd2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/67.5f22b8e0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/68.a1aa2ff1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/69.5e3f3fb1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/7.01b8b4f4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/70.6d7e857a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/71.8db7e90d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/72.881d0689.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/73.8b610670.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/74.c42a6a52.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/75.f96dad8f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/76.29efd4a7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/77.27b0f687.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/78.ca466f77.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/79.5ffc74df.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/8.bcff9280.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/80.b0e5e6e7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/81.d5bed3ff.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/82.6a6cafe7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/83.e39d6569.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/84.bdd5c4b8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/85.58221d9b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/86.6206ff1b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/87.d150b013.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/88.4df22d3e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/89.c932b62d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/9.66456734.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/90.653522c4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/91.667ba4a4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/92.871c58d1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/93.f8c93600.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/94.bcfca5ec.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/95.7c4d54f1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/96.ca326aea.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/97.9fc80f1c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/98.9484b7ed.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/99.9253db8b.js">
    <link rel="stylesheet" href="/AzureTipsAndTricks/assets/css/0.styles.ae50425e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/AzureTipsAndTricks/" class="home-link router-link-active"><img src="/AzureTipsAndTricks/files/vintage.png" alt="Azure Tips and Tricks" class="logo"> <span class="site-name can-hide">Azure Tips and Tricks</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/AzureTipsAndTricks/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://www.youtube.com/playlist?list=PLLasX02E8BPCNCK8Thcxu-Y-XcBUbhFWC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Videos
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/microsoft/AzureTipsAndTricks/issues/new?assignees=&amp;labels=&amp;template=questions.md&amp;title=" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Questions?
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://microsoft.github.io/AzureTipsAndTricks/rss.xml" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RSS Feed
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/microsoft/azuretipsandtricks" target="_blank" rel="noopener noreferrer" class="repo-link">
    Star this Repo
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/AzureTipsAndTricks/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://www.youtube.com/playlist?list=PLLasX02E8BPCNCK8Thcxu-Y-XcBUbhFWC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Videos
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/microsoft/AzureTipsAndTricks/issues/new?assignees=&amp;labels=&amp;template=questions.md&amp;title=" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Questions?
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://microsoft.github.io/AzureTipsAndTricks/rss.xml" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RSS Feed
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/microsoft/azuretipsandtricks" target="_blank" rel="noopener noreferrer" class="repo-link">
    Star this Repo
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/AzureTipsAndTricks/" aria-current="page" class="sidebar-link">Home</a><ul class="sidebar-sub-headers"></ul></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Azure Tips and Tricks Extended Video Series</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://www.youtube.com/watch?v=w-tLZjO6XMc&amp;list=PLlrxD0HtieHgMPeBaDQFx9yNuFxx6S1VG&amp;index=2" target="_blank" rel="noopener noreferrer" class="sidebar-link">Azure Static Web Apps<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Recently Added</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AzureTipsAndTricks/blog/tip367.html" class="sidebar-link">Tip 367 - How to move Azure Storage Blobs between containers</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip366.html" class="sidebar-link">Tip 366 - How to troubleshoot your applications with Change Analysis</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip365.html" class="sidebar-link">Tip 365 - How to debug and run code locally with Bridge to Kubernetes for VS Code</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip364.html" class="sidebar-link">Tip 364 - How to work with your Azure apps in GitHub Codespaces</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip363.html" class="sidebar-link">Tip 363 - How to get started with Azure Container Apps</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip362.html" class="sidebar-link">Tip 362 - How to test for resilience with Azure Chaos Studio</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip361.html" class="sidebar-link">Tip 361 - How to test application performance with Azure Load Testing</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AI + Machine Learning</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Analytics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Communication services</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Containers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Databases</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developer Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Identity</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Integration</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Internet of Things</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Languages &amp; Frameworks</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AzureTipsAndTricks/blog/tip312.html" class="sidebar-link">Tip 312 - How to use Azure Container Registry for building and deploying .NET Core apps</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip309.html" class="sidebar-link">Tip 309 - How to Deploy Steeltoe .NET apps to Azure Spring Cloud</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip307.html" class="sidebar-link">Tip 307 - How to create faster and smarter apps with .NET 5</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip296.html" class="sidebar-link">Tip 296 - How to work with Azure Cosmos DB with PowerShell</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip290.html" class="sidebar-link">Tip 290 - How to secure a Blazor application with Azure Active Directory</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip289.html" class="sidebar-link">Tip 289 - How to Add Azure Feature Flags to Angular projects</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip287.html" class="sidebar-link">Tip 287 - How to use a GraphQL on Azure</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip286.html" class="sidebar-link">Tip 286 - Blazor and Azure Functions for Serverless Websites</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip274.html" class="sidebar-link">Tip 274 - Set Your AzContext Interactively</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip275.html" class="sidebar-link">Tip 275 - Using Azure Key Vault secrets in Azure PowerShell and Azure CLI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip264.html" class="sidebar-link">Tip 264 - Working with Azure Spring Cloud</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip259.html" class="sidebar-link">Tip 259 - How to use Azure App Service managed certificates</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip249.html" class="sidebar-link">Tip 249 - Deploying a Node.js Web App using Visual Studio Code, GitHub Actions and Azure</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip244.html" class="sidebar-link">Tip 244 - How to use PowerShell in Azure Data Studio</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip237.html" class="sidebar-link">Tip 237 - Setup an Azure Pipeline with Node.js</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip227.html" class="sidebar-link">Tip 227 - Add and run JavaScript code snippets by using inline code in Azure Logic Apps</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip222.html" class="sidebar-link">Tip 222 - Get started with Azure App Configuration for your ASP.NET Core app</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip221.html" class="sidebar-link">Tip 221 - Use Blazor and C# to host a static website in Azure Storage</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip218.html" class="sidebar-link">Tip 218 - Build and deploy your first app with the Azure SDK for Java on Azure</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip216.html" class="sidebar-link">Tip 216 - How to deploy ASP.NET application to Docker Hub and Azure</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip213.html" class="sidebar-link">Tip 213 - Working with the Azure billing and cost management API</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip211.html" class="sidebar-link">Tip 211 - Working with Azure Functions using PowerShell (Preview)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip204.html" class="sidebar-link">Tip 204 - Working with Azure Cosmos DB and the JavaScript SDK</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip194.html" aria-current="page" class="active sidebar-link">Tip 194 - Azure Automation with Windows Machine with PowerShell</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip193.html" class="sidebar-link">Tip 193 - Build and deploy your first app with the Azure SDK for Go on Azure</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip169.html" class="sidebar-link">Tip 169 - A quick tour around Azure DevOps Projects using Node.js and AKS - Part 2</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip168.html" class="sidebar-link">Tip 168 - A quick tour around Azure DevOps Projects using Node.js and AKS - Part 1</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip149.html" class="sidebar-link">Tip 149 - Use PowerShell to quickly see if your Deployment Slot Swapped Successfully</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip17.html" class="sidebar-link">Tip 17 - Use PowerShell with Azure Cloud Shell</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip137.html" class="sidebar-link">Tip 137 - Export Azure Resources to CSV files with PowerShell</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip132.html" class="sidebar-link">Tip 132 - Increase the timeout of ASP.NET Core 2.0 API hosted in Azure App Service</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip120.html" class="sidebar-link">Tip 120 - Run Azure PowerShell Cmdlets in Visual Studio 2017</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip113.html" class="sidebar-link">Tip 113 - Prevent secrets from getting out with .NET Core</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip68.html" class="sidebar-link">Tip 68 - Access Cosmos DB through a .NET Application</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip56.html" class="sidebar-link">Tip 56 - Deploy a .NET Core WebAPI Project to Web App for Containers</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip55.html" class="sidebar-link">Tip 55 - Use .NET Core WebAPI and Docker Compose</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip54.html" class="sidebar-link">Tip 54 - Getting a .NET Core WebAPI Project Ready for Docker</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip24.html" class="sidebar-link">Tip 24 - Add logic to your Testing in Production sites with PowerShell</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Management and Governance</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Media Services</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mobile</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Networking</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Productivity</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SAP on Azure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Security</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Serverless</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Storage</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Virtual Machines</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Visual Studio Family</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>💡 Learn more : <a href="https://docs.microsoft.com/azure/automation/automation-intro?WT.mc_id=docs-azuredevtips-azureappsdev" target="_blank" rel="noopener noreferrer">An introduction to Azure Automation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>📺 Watch the video : <a href="https://www.youtube.com/watch?v=pQ9dQ13B2vM&amp;list=PLLasX02E8BPCNCK8Thcxu-Y-XcBUbhFWC&amp;index=50?WT.mc_id=youtube-azuredevtips-azureappsdev" target="_blank" rel="noopener noreferrer">How to use Azure Automation with PowerShell<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <h3 id="azure-automation-with-windows-machine-with-powershell"><a href="#azure-automation-with-windows-machine-with-powershell" class="header-anchor">#</a> Azure Automation with Windows Machine with PowerShell</h3> <p>As a developer, when I do something more than once, I want to automate it. <a href="https://docs.microsoft.com/azure/automation/automation-intro?WT.mc_id=docs-azuredevtips-azureappsdev" target="_blank" rel="noopener noreferrer">Azure Automation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> makes this very easy for most common IT tasks, like scaling Azure SQL DBs up and down and starting and stopping VMs on a schedule.</p> <p>Azure Automation is a very mature service in Azure that let's you do anything that you can think of in Azure and also on-premises in hybrid scenarios.
Basically, Azure Automation is serverless. You don't have to worry about how it runs and works, you just tell it what to do and use it. And you only <a href="https://azure.microsoft.com/pricing/details/automation?WT.mc_id=azure-azuredevtips-azureappsdev" target="_blank" rel="noopener noreferrer">pay for it<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> when it does something.</p> <p>Azure Automation provides lots of features out-of-the-box, which range from tracking changes in the configuration of VMs, to managing VM Operating System updates to starting and stopping VMs on a schedule.</p> <img src="/AzureTipsAndTricks/files/AutomationFeatures.png"> <p>(Azure Automation features in the Azure portal menu)</p> <p>You can also customize the job that you want Azure Automation to do for you. To do that, you can create a <strong>Runbook</strong>. You can create one from scratch or pick one from the <a href="https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure&amp;f%5B1%5D.Type=SubCategory&amp;f%5B1%5D.Value=WindowsAzure_automation&amp;f%5B1%5D.Text=Automation" target="_blank" rel="noopener noreferrer">Runbook gallery<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Runbooks can contain PowerShell <strong>Modules</strong> that make up the functionality in the runbook. As with runbooks, you can create modules yourself or select them from the <a href="https://www.powershellgallery.com'" target="_blank" rel="noopener noreferrer">PowerShell gallery<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>&quot;&gt;. Runbooks can also contain Python code and Python packages instead of PowerShell modules.</p> <p>All of this runs in an Azure Automation account. So the hierarchy of components looks like this:</p> <ul><li>Azure Automation account
<ul><li>Runbook
<ul><li>Module 1</li> <li>Module 2</li> <li>Module 3</li></ul></li></ul></li></ul> <h5 id="scaling-azure-vms-using-a-custom-runbook"><a href="#scaling-azure-vms-using-a-custom-runbook" class="header-anchor">#</a> Scaling Azure VMs using a custom Runbook</h5> <p>Let's create a custom runbook that allows us to scale the VMs in our Azure subscription.</p> <p>We'll start by making sure that we have an Azure Automation Account.</p> <ol><li>In the Azure portal, find <strong>Azure Automation</strong>. You can do this by searching for it in the searchbar at the top of the portal</li> <li>If you don't have an Azure Automation Account yet, you need to create one by clicking on the button that's in the image below:</li></ol> <img src="/AzureTipsAndTricks/files/CreateAutomationAccount.png"> <p>(Create an Azure Automation Account in the Azure portal)</p> <ol start="3"><li>Now, fill out the creation wizard and create the account.</li> <li>In the menu of the Azure Automation account, we are going to make sure that we are running the latest version of the PowerShell commandlets. Click on the <strong>Modules</strong> menu item. And now, click on <strong>Update Azure Modules</strong>. Updating the modules can take a while, but this ensures that we are running the latest versions of the PowerShell commands</li></ol> <img src="/AzureTipsAndTricks/files/UpdatePowerShellModules.png"> <p>(Update PowerShell modules in the Azure portal)</p> <ol><li>Now to create the runbook that will contain PowerShell. Click on the <strong>Runbooks</strong> menu item and click on <strong>Add a runbook</strong>. This opens up the runbook creation blade</li> <li>Pick a <strong>Name</strong> for the runbook and select <strong>PowerShell</strong> as the runbook type and click <strong>Create</strong></li></ol> <img src="/AzureTipsAndTricks/files/CreateARunbook.png"> <p>(Create a runbook in the Azure portal)</p> <ol start="7"><li>We will now create the PowerShell that does the actual work. We'll start by declaring some variables</li></ol> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token keyword">param</span><span class="token punctuation">(</span>
    <span class="token namespace">[parameter(Mandatory=$false)]</span>
    <span class="token namespace">[bool]</span><span class="token variable">$scaleUp</span> = <span class="token boolean">$false</span><span class="token punctuation">,</span>

    <span class="token namespace">[parameter(Mandatory=$false)]</span>
    <span class="token namespace">[string]</span><span class="token variable">$ScaleUpSize</span> = <span class="token string">&quot;Standard_D2_V2&quot;</span><span class="token punctuation">,</span>

    <span class="token namespace">[parameter(Mandatory=$false)]</span>
    <span class="token namespace">[string]</span><span class="token variable">$ScaleDownSize</span> = <span class="token string">&quot;Standard_B1ms&quot;</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>The first one is going to determine if we scale up or down.
The second and third variables indicate to which tier we should scale up or down. For instance to &quot;Standard_D2_V2&quot;.</p> <ol start="8"><li>Next, we add PowerShell script to log into Azure. We do that using the AzureRunAsConnection that Azure Automation has created for us automatically</li></ol> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token keyword">try</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;Logging in to Azure...&quot;</span>
    <span class="token variable">$runAsConnectionProfile</span> = <span class="token function">Get-AutomationConnection</span> `
    <span class="token operator">-</span>Name <span class="token string">&quot;AzureRunAsConnection&quot;</span>
    <span class="token function">Add-AzureRmAccount</span> <span class="token operator">-</span>ServicePrincipal `
    <span class="token operator">-</span>TenantId <span class="token variable">$runAsConnectionProfile</span><span class="token punctuation">.</span>TenantId `
    <span class="token operator">-</span>ApplicationId <span class="token variable">$runAsConnectionProfile</span><span class="token punctuation">.</span>ApplicationId `
    <span class="token operator">-</span>CertificateThumbprint ` <span class="token variable">$runAsConnectionProfile</span><span class="token punctuation">.</span>CertificateThumbprint <span class="token punctuation">|</span> <span class="token function">Out-Null</span>
    <span class="token function">Write-Output</span> <span class="token string">&quot;Authenticated with Automation Run As Account.&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="9"><li>Once we are successfully logged in, we can set variables that determine the tier that we scale to. When <strong>$ScaleUp</strong> is true, we use the <strong>$ScaleUpSize</strong> parameter. And when it is false, we use the <strong>$ScaleDownSize</strong> parameter</li></ol> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$scaleUp</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token variable">$ScaleSize</span>= <span class="token variable">$ScaleUpSize</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token variable">$ScaleSize</span>= <span class="token variable">$ScaleDownSize</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="10"><li>Now, for the meat of the script. In the script below, the following happens
a. First, we get all of the resource groups and loop through them
b. In each resource group, we find all of the VMs and loop through them
c. Next, we get the current size of the VM (so the pricing tier) and compare that against the size that we want to scale to. If the VM is already the same size, we don't scale it
d. Next, we check if the VM is running and stop it if it is running
e. Finally, we update the VM with the new size</li></ol> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token keyword">Function</span> <span class="token function">Start-VMAutoScaling</span><span class="token punctuation">{</span>
    <span class="token comment"># a. First, we get all of the resource groups and loop through them</span>
    <span class="token variable">$RGs</span> = <span class="token function">Get-AzureRMResourceGroup</span>
    <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$RG</span> in <span class="token variable">$RGs</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token variable">$RGN</span> = <span class="token variable">$RG</span><span class="token punctuation">.</span>ResourceGroupName
        <span class="token variable">$VMs</span> = <span class="token function">Get-AzureRmVM</span> <span class="token operator">-</span>ResourceGroupName <span class="token variable">$RGN</span>
            <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$VM</span> in <span class="token variable">$VMs</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment"># b. In each resource group, we find all of the VMs and loop through them</span>
                <span class="token variable">$VMName</span> = <span class="token variable">$VM</span><span class="token punctuation">.</span>Name
                <span class="token variable">$VMDetail</span> = <span class="token function">Get-AzureRmVM</span> <span class="token operator">-</span>ResourceGroupName <span class="token variable">$RGN</span> <span class="token operator">-</span>Name <span class="token variable">$VMName</span>
                <span class="token variable">$VMSize</span> = <span class="token variable">$VMDetail</span><span class="token punctuation">.</span>HardwareProfile<span class="token punctuation">.</span>VmSize
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$VMSize</span> <span class="token operator">-ne</span> <span class="token variable">$ScaleSize</span><span class="token punctuation">)</span> <span class="token operator">-and</span> <span class="token punctuation">(</span><span class="token variable">$ScaleSize</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment"># c. Next, we get the current size of the VM (so the pricing tier) and compare that against the size that we want to scale to.</span>
                    <span class="token function">Write-Output</span> <span class="token string">&quot;Resource Group: <span class="token variable">$RGN</span>&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;VM Name: &quot;</span> <span class="token operator">+</span> <span class="token variable">$VMName</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Current VM Size: <span class="token variable">$VMSize</span>&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;<span class="token variable">$scaleTagSwitch</span> : <span class="token variable">$ScaleSize</span>&quot;</span>
                    <span class="token variable">$VMStatus</span> = <span class="token function">Get-AzureRmVM</span> <span class="token operator">-</span>ResourceGroupName <span class="token variable">$RGN</span> <span class="token operator">-</span>Name <span class="token variable">$VMName</span> <span class="token operator">-</span>Status

                    <span class="token comment"># d. Next, we check if the VM is running and stop it if it is running</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$VMStatus</span><span class="token punctuation">.</span>Statuses<span class="token punctuation">[</span>1<span class="token punctuation">]</span><span class="token punctuation">.</span>DisplayStatus <span class="token operator">-eq</span> <span class="token string">&quot;VM running&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token function">Write-Output</span> <span class="token string">&quot;Stopping VM '<span class="token variable">$VMName</span>'&quot;</span>
                        <span class="token function">Stop-AzureRmVM</span> <span class="token operator">-</span>ResourceGroupName <span class="token variable">$RGN</span> <span class="token operator">-</span>Name <span class="token variable">$VMName</span> <span class="token operator">-</span>Force <span class="token punctuation">|</span> <span class="token function">Out-Null</span>
                    <span class="token punctuation">}</span>

                    <span class="token comment"># e. Finally, we update the VM with the new size</span>
                    <span class="token variable">$VM</span><span class="token punctuation">.</span>HardwareProfile<span class="token punctuation">.</span>VmSize = <span class="token variable">$ScaleSize</span>
                    <span class="token function">Update-AzureRmVM</span> <span class="token operator">-</span>VM <span class="token variable">$VM</span> <span class="token operator">-</span>ResourceGroupName <span class="token variable">$RGN</span>
                    <span class="token function">Write-Output</span> <span class="token string">&quot;Resized VM '<span class="token variable">$VMName</span>'&quot;</span> `n
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token function">Write-Output</span> <span class="token string">&quot;VM '<span class="token variable">$VMName</span>' is exempted from scaling (Currrent VM size matches scaling size)&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><ol start="11"><li>Finally, we call the <strong>Start-VMAutoscaling</strong> function</li></ol> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token comment">############################ Start autoscaling function ####################</span>

<span class="token function">Start-VMAutoScaling</span>
<span class="token function">Write-Output</span> <span class="token string">&quot;VM Scaling Completed&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="12"><li><p>The script is now ready. Click <strong>Save</strong> and click on <strong>Test pane</strong> to test it.</p></li> <li><p>In the test pane, leave all the parameters as they are and click <strong>Start</strong>. This will look for VMs in your subscription and scale them down as that is the default setting. This will only work if you have VMs in your subscription. After a while, it will succeed and show that in the output of the Test Pane</p></li></ol> <img src="/AzureTipsAndTricks/files/TestRunBook.png"> <p>(Test completed in the Azure portal)</p> <ol start="14"><li><p>Go back to the <strong>runbook edit blade</strong> (you can use the breadcrumb menu in the top to navigate back to it) and click <strong>Publish</strong>. This pushes the runbook to 'production', which means that you can now use it and schedule it.</p></li> <li><p>You should be in the blade of the runbook. If not, navigate to it. Here, you can click <strong>Schedule</strong> to set up a schedule to run this workbook on. You can, for instance, schedule the runbook to scale up every morning and scale down every evening. This will save you costs if you don't need to run powerful machines during the night</p></li></ol> <img src="/AzureTipsAndTricks/files/CreateSchedule.png"> <p>(Create a schedule for the runbook in the Azure portal)</p> <h5 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h5> <p>That's it! Now, we have automated an important task using an Azure Automation PowerShell Runbook that runs on a schedule. Sure, this script should be more sophisticated as it should maybe have more checks and balances and it should be configurable to only scale certain VMs in your subscription. But that's okay as I just wanted to show you how you can go about creating functionality like this. And remember, there are already many pre-made Azure Automation solutions available in the <a href="https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure&amp;f%5B1%5D.Type=SubCategory&amp;f%5B1%5D.Value=WindowsAzure_automation&amp;f%5B1%5D.Text=Automation" target="_blank" rel="noopener noreferrer">Runbook gallery<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/microsoft/azuretipsandtricks/edit/main/blog/tip194.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/21/2019, 2:00:00 AM</span></div></footer> <div class="page-nav"><p class="inner" style="text-align:center"><span class="prev" style="width:100%; font-size:x-large">
        ←
        <a href="/AzureTipsAndTricks/blog/tip193.html" class="prev">
          Tip 193 - Build and deploy your first app with the Azure SDK for Go on Azure
        </a></span> <br> <span class="next" style="width:100%; font-size:x-large"><a href="/AzureTipsAndTricks/blog/tip204.html">
          Tip 204 - Working with Azure Cosmos DB and the JavaScript SDK
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/AzureTipsAndTricks/assets/js/app.ff93faee.js" defer></script><script src="/AzureTipsAndTricks/assets/js/3.6da58b8f.js" defer></script><script src="/AzureTipsAndTricks/assets/js/2.34d1d534.js" defer></script><script src="/AzureTipsAndTricks/assets/js/106.6c9e1caf.js" defer></script>
  </body>
</html>
