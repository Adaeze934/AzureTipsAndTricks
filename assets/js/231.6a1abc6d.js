(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{667:function(e,t,r){"use strict";r.r(t);var o=r(69),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),r("p",[e._v("ðŸ”¥  Help shape the future of Azure Tips and Tricks by telling what you'd like for us to write about "),r("a",{attrs:{href:"https://github.com/microsoft/AzureTipsAndTricks/issues/new?assignees=&labels=&template=survey.md&title=",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("ðŸ’¡ Learn more : "),r("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Storage account overview"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("ðŸ“º Watch the video : "),r("a",{attrs:{href:"https://youtu.be/bjKmJKAKyp4?WT.mc_id=youtube-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to use Blob versioning in Azure Storage"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("h3",{attrs:{id:"how-to-use-blob-versioning-in-azure-storage"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-blob-versioning-in-azure-storage"}},[e._v("#")]),e._v(" How to use Blob versioning in Azure Storage")]),e._v(" "),r("h4",{attrs:{id:"protect-your-data"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#protect-your-data"}},[e._v("#")]),e._v(" Protect your data")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://azure.microsoft.com/services/storage/?WT.mc_id=azure-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Storage"),r("OutboundLink")],1),e._v(" protects your data in many ways. It stores your data redundantly, so that it is safe, even in case of a datacenter outage and it offers many additional protection features, including "),r("a",{attrs:{href:"https://docs.microsoft.com/azure/storage/blobs/versioning-overview?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Blob Storage versioning"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("In this post, we'll enable versioning for Azure Storage Blobs and track versions of a file.")]),e._v(" "),r("h4",{attrs:{id:"prerequisites"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),r("p",[e._v("If you want to follow along, you'll need the following:")]),e._v(" "),r("ul",[r("li",[e._v("An Azure subscription (If you don't have an Azure subscription, create a "),r("a",{attrs:{href:"https://azure.microsoft.com/free/?WT.mc_id=azure-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("free account"),r("OutboundLink")],1),e._v(" before you begin)")]),e._v(" "),r("li",[e._v("An existing Azure Storage V2 General purpose account. Create one with "),r("a",{attrs:{href:"https://docs.microsoft.com/azure/storage/common/storage-account-create?WT.mc_id=azure-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("this guide"),r("OutboundLink")],1)])]),e._v(" "),r("h4",{attrs:{id:"using-blob-versioning"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#using-blob-versioning"}},[e._v("#")]),e._v(" Using Blob versioning")]),e._v(" "),r("p",[e._v("Blobs in Azure Storage can have versions. We can use these versions to access pervious blobs or revert to a specific version, so that you never lose any data. To use Blob versioning, we need to first enable it.")]),e._v(" "),r("ol",[r("li",[e._v("Go to the "),r("a",{attrs:{href:"https://portal.azure.com/?WT.mc_id=azure-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure portal"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Navigate to your Azure Storage account")]),e._v(" "),r("li",[e._v("In the "),r("strong",[e._v("Blob service")]),e._v(" section, select the "),r("strong",[e._v("Data protection")]),e._v(" menu")]),e._v(" "),r("li",[e._v("Select "),r("strong",[e._v('"Turn on versioning for blobs"')]),e._v(" and click "),r("strong",[e._v("Save")]),e._v(". From now on, Azure Storage will automatically retain versions of every file you upload or modify")])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/94versioning.png")}}),e._v(" "),r("p",[e._v("(Turn on versioning in the Azure portal)")]),e._v(" "),r("ol",{attrs:{start:"5"}},[r("li",[e._v("Let's try it out. Create a new text file and write some text in it, like "),r("strong",[e._v('"Version 1"')])])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/94text1.png")}}),e._v(" "),r("p",[e._v("(New text file)")]),e._v(" "),r("ol",{attrs:{start:"6"}},[r("li",[e._v("In the Azure portal, in the "),r("strong",[e._v("Blob service")]),e._v(" section, select the "),r("strong",[e._v("Containers")]),e._v(" menu")]),e._v(" "),r("li",[e._v("Create a new blob container or click on an existing one")]),e._v(" "),r("li",[e._v("Click "),r("strong",[e._v("Upload")]),e._v(", select the text file that we've just created, and upload it.")]),e._v(" "),r("li",[e._v('Now open the text file and change the text in it to something like "version 2"')]),e._v(" "),r("li",[e._v("Go back to the Azure portal and the blob container and click "),r("strong",[e._v("Upload")]),e._v(" again and upload the new version of the text file. Make sure to check the "),r("strong",[e._v('"Overwrite if files already exist"')]),e._v(" checkbox")]),e._v(" "),r("li",[e._v("To the right of the blob in the blob container, you'll see "),r("strong",[e._v("three dots")]),e._v(". Click on them to open the "),r("strong",[e._v("context menu")]),e._v(" for the blob")]),e._v(" "),r("li",[e._v("In the context menu, select the option "),r("strong",[e._v('"View previous versions"')]),e._v(". This will show all the versions of the blob")])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/94versions.png")}}),e._v(" "),r("p",[e._v("(Blob versions in the Azure portal)")]),e._v(" "),r("ol",{attrs:{start:"13"}},[r("li",[e._v("Open the context menu of the version of the blob and select "),r("strong",[e._v('"Download version"')]),e._v(". This will open the blob text file in another tab in your browser and shows you the previous version of the file")])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/94result.png")}}),e._v(" "),r("p",[e._v("(Previous version of the blob file)")]),e._v(" "),r("h4",{attrs:{id:"conclusion"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),r("p",[e._v("Being able to download and revert versions of files is incredibly powerful and protects you from losing data. "),r("a",{attrs:{href:"https://azure.microsoft.com/services/storage/?WT.mc_id=azure-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Storage"),r("OutboundLink")],1),e._v(" can help with this with "),r("a",{attrs:{href:"https://docs.microsoft.com/azure/storage/blobs/versioning-overview?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Blob versioning"),r("OutboundLink")],1),e._v(". Go and check it out!")])])}),[],!1,null,null,null);t.default=s.exports}}]);