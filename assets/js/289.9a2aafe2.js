(window.webpackJsonp=window.webpackJsonp||[]).push([[289],{725:function(e,t,r){"use strict";r.r(t);var o=r(69),n=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),r("p",[e._v("ðŸ”¥  ðŸ”¥  Download the FREE Azure Developer Guide eBook "),r("a",{attrs:{href:"http://aka.ms/azuredevebook?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("ðŸ’¡ Learn more : "),r("a",{attrs:{href:"https://docs.microsoft.com/visualstudio/bridge/overview-bridge-to-kubernetes?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("How Bridge to Kubernetes works"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("ðŸ“º Watch the video : "),r("a",{attrs:{href:"https://youtu.be/t_wtaOTaPuE?WT.mc_id=youtube-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to debug and run code locally with Bridge to Kubernetes for VS Code"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("h3",{attrs:{id:"how-to-debug-and-run-code-locally-with-bridge-to-kubernetes-for-vs-code"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#how-to-debug-and-run-code-locally-with-bridge-to-kubernetes-for-vs-code"}},[e._v("#")]),e._v(" How to debug and run code locally with Bridge to Kubernetes for VS Code")]),e._v(" "),r("h4",{attrs:{id:"troubleshoot-complex-container-solutions"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#troubleshoot-complex-container-solutions"}},[e._v("#")]),e._v(" Troubleshoot complex container solutions")]),e._v(" "),r("p",[e._v("You can use containers to run complex solutions that consist of multiple services, like an HTTP server, a database and a cache. To manage these containers, you can use Kubernetes as an orchestrator. In Azure, you would use "),r("a",{attrs:{href:"https://docs.microsoft.com/azure/aks/intro-kubernetes?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Kubernetes Service"),r("OutboundLink")],1),e._v(" for this. Troubleshooting applications in such a complex solution seems difficult, but "),r("a",{attrs:{href:"https://docs.microsoft.com/visualstudio/bridge/overview-bridge-to-kubernetes?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bridge to Kubernetes"),r("OutboundLink")],1),e._v(" can help. Bridge to Kubernetes allows you to run and debug code on your development computer for an application that runs in your Kubernetes cluster.")]),e._v(" "),r("p",[e._v("In this post, we'll use "),r("a",{attrs:{href:"https://docs.microsoft.com/visualstudio/bridge/overview-bridge-to-kubernetes?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bridge to Kubernetes"),r("OutboundLink")],1),e._v(" in "),r("a",{attrs:{href:"https://code.visualstudio.com?WT.mc_id=other-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("VS Code"),r("OutboundLink")],1),e._v(" to debug a sample application that runs in "),r("a",{attrs:{href:"https://docs.microsoft.com/azure/aks/intro-kubernetes?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Kubernetes Service"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("h4",{attrs:{id:"prerequisites"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),r("p",[e._v("If you want to follow along, you'll need the following:")]),e._v(" "),r("ul",[r("li",[e._v("An Azure subscription (If you don't have an Azure subscription, create a "),r("a",{attrs:{href:"https://azure.microsoft.com/free/?WT.mc_id=azure-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("free account"),r("OutboundLink")],1),e._v(" before you begin)")]),e._v(" "),r("li",[e._v("The "),r("a",{attrs:{href:"https://code.visualstudio.com/download?WT.mc_id=other-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("latest version of VS Code"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("An existing Azure Kubernetes Service cluster with a sample application running in it. You can follow "),r("a",{attrs:{href:"https://docs.microsoft.com/azure/aks/kubernetes-walkthrough?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("this tutorial"),r("OutboundLink")],1),e._v(" to set it up")]),e._v(" "),r("li",[e._v("The latest version of "),r("a",{attrs:{href:"https://www.python.org/downloads/?WT.mc_id=other-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Python"),r("OutboundLink")],1),e._v(". You'll need this to debug the "),r("a",{attrs:{href:"https://github.com/Azure-Samples/azure-voting-app-redis?WT.mc_id=github-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("sample application"),r("OutboundLink")],1)])]),e._v(" "),r("h4",{attrs:{id:"use-bridge-to-kubernetes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#use-bridge-to-kubernetes"}},[e._v("#")]),e._v(" Use Bridge to Kubernetes")]),e._v(" "),r("p",[e._v("This tutorial assumes that you have an Azure Kubernetes Service that is running the "),r("a",{attrs:{href:"https://docs.microsoft.com/azure/aks/kubernetes-walkthrough?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("sample voting application"),r("OutboundLink")],1),e._v(". This application has a frontend and backend, and you can find its source code "),r("a",{attrs:{href:"https://github.com/Azure-Samples/azure-voting-app-redis?WT.mc_id=github-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("We'll start by installing the "),r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=mindaro.mindaro&WT.mc_id=microsoft-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bridge to Kubernetes extension"),r("OutboundLink")],1),e._v(" in VS Code.")]),e._v(" "),r("ol",[r("li",[e._v("Open VS Code and open the folder with the "),r("a",{attrs:{href:"https://github.com/Azure-Samples/azure-voting-app-redis?WT.mc_id=github-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("source code of the sample application"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Click on the "),r("strong",[e._v("Extensions")]),e._v(" menu")]),e._v(" "),r("li",[e._v("Search for "),r("strong",[e._v('"Bridge to Kubernetes"')]),e._v(". Select the result and click "),r("strong",[e._v("Install")])])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/149extension.png")}}),e._v(" "),r("p",[e._v("(Bridge to Kubernetes extension for VS Code)")]),e._v(" "),r("ol",{attrs:{start:"4"}},[r("li",[e._v("You might see messages in VS Code that tell you to install dependencies like the YAML extension and Kubectl. Install the dependencies that it asks for")]),e._v(" "),r("li",[e._v("Assuming that you didn't connect your local development environment to AKS yet, VS Code will prompt you to "),r("strong",[e._v('"Set the current cluster and name"')]),e._v(". Click on the message, which will take you to the Kubernetes menu\n"),r("ol",[r("li",[e._v("In the "),r("strong",[e._v("Clouds")]),e._v(" section of the Kubernetes menu, you'll see Azure. When you sign into your Azure account, you will see your AKS cluster. Right-click on it and select "),r("strong",[e._v('"Merge into Kubeconfig"')]),e._v(". Your local environment can now connect to the AKS cluster")])])]),e._v(" "),r("li",[e._v("In VS Code, click the "),r("strong",[e._v("View")]),e._v(" menu and "),r("strong",[e._v("Command Palette")])]),e._v(" "),r("li",[e._v("In the Command Palette, type Bridge to Kubernetes and select "),r("strong",[e._v('"Bridge to Kubernetes: Configure"')]),e._v(" to set it up")])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/149commandpallette.png")}}),e._v(" "),r("p",[e._v("(Configure Bridge to Kubernetes in VS Code)")]),e._v(" "),r("ol",{attrs:{start:"8"}},[r("li",[e._v("Next, choose the "),r("strong",[e._v("azure-vote-front")]),e._v(" service to redirect to your machine. This is the frontend of the sample application")])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/149commandpallette2.png")}}),e._v(" "),r("p",[e._v("(Redirect traffic from the frontend to your local machine)")]),e._v(" "),r("ol",{attrs:{start:"9"}},[r("li",[e._v("Enter a local port to redirect the traffic to, like "),r("strong",[e._v("80")])]),e._v(" "),r("li",[e._v("And next, click "),r("strong",[e._v('"+ Create a new launch configuration"')]),e._v(" "),r("ol",[r("li",[e._v("Select "),r("strong",[e._v("Python")])]),e._v(" "),r("li",[e._v("And select "),r("strong",[e._v('"Python file Debug the current active Python file"')]),e._v(". This creates a launch.json file, which you need for debugging in VS Code")]),e._v(" "),r("li",[e._v("Finally, pick "),r("strong",[e._v("No")]),e._v(" for the question "),r("strong",[e._v('"Isolate your local version of azure-vote-front from other developers?"')]),e._v(". This will redirect all the traffic for the frontend to your local machine which is okay, as you are the only developer working on it right now")])])])]),e._v(" "),r("p",[e._v("That's it! Let's start debugging the app.")]),e._v(" "),r("ol",[r("li",[e._v("In the sample app in VS Code, open the azure-vote folder and open the "),r("strong",[e._v("main.py")]),e._v(" file")]),e._v(" "),r("li",[e._v("Now click on the "),r("strong",[e._v("Run and Debug")]),e._v(" menu on the left")])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/149debug.png")}}),e._v(" "),r("p",[e._v("(Debug in VS Code)")]),e._v(" "),r("ol",{attrs:{start:"3"}},[r("li",[e._v("Click on the Run and Debug configuration "),r("strong",[e._v('"Python: Current File with Kubernetes"')]),e._v(". This will start debugging. As you are using Bridge to Kubernetes, all traffic that flows to the frontend will be redirected to your local machine. This will open a browser with the frontend running in it")])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/149votingapp.png")}}),e._v(" "),r("p",[e._v("(The sample app, redirected to the local machine)")]),e._v(" "),r("ol",{attrs:{start:"4"}},[r("li",[e._v("In main.py, "),r("strong",[e._v("set a breakpoint")]),e._v(" at line 77 \"vote = request.form['vote']\"")]),e._v(" "),r("li",[e._v("In the browser, click one of the voting buttons. This should trigger the breakpoint and allow you to debug the application, which is still running in the AKS cluster")])]),e._v(" "),r("img",{attrs:{src:e.$withBase("/files/149result.png")}}),e._v(" "),r("p",[e._v("(Debugging the app locally)")]),e._v(" "),r("h4",{attrs:{id:"conclusion"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://docs.microsoft.com/visualstudio/bridge/overview-bridge-to-kubernetes?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Bridge to Kubernetes"),r("OutboundLink")],1),e._v(" makes it easy to debug code that runs in a Kubernetes cluster. It is easy to use with the "),r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=mindaro.mindaro&WT.mc_id=microsoft-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("VS Code extension"),r("OutboundLink")],1),e._v(". You can use it alone or "),r("a",{attrs:{href:"https://docs.microsoft.com/visualstudio/bridge/overview-bridge-to-kubernetes#using-routing-capabilities-for-developing-in-isolation?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("with a team of developers"),r("OutboundLink")],1),e._v(" and "),r("a",{attrs:{href:"https://docs.microsoft.com/visualstudio/bridge/configure-bridge-to-kubernetes?WT.mc_id=docs-azuredevtips-azureappsdev",target:"_blank",rel:"noopener noreferrer"}},[e._v("configure it"),r("OutboundLink")],1),e._v(" when needed. Go and check it out!")])])}),[],!1,null,null,null);t.default=n.exports}}]);